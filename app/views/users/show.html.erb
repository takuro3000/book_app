<main class="container mt-4">
    <div class="row">
        <aside class="col-md-3">
            <%= image_tag @user.icon, class: "profile-img" %>

            <!-- Name and Username -->
            <h2 class="profile-name"><%= @user.name%></h2>

            <!-- Social Icons -->
            <div class="social-icons">
                <a href="#"><i class="fa-brands fa-github"></i></a>
                <a href="#"><i class="fa-brands fa-x-twitter"></i></a>
            </div>

            <!-- Contributions -->
            <div class="contributions"><%= @user.level %></div>
            <div class="contributions">投稿数；<%= @user.posts.count %></div>

            <!-- Bio -->
            <p class="bio">
                <%= @user.self_introduction%>
            </p>
            <% if @user.id == current_user.id %>
                <%= link_to "プロフィールの編集", edit_user_path(@user) %>
            <% end %>
        </aside>
        <section class="col-md-9">
            <h3 class= "ms-3 mb-3">レビューした本一覧</h3>
            <div class="row">
                <% @books.each do |book| %>
                    <div class="col-md-3">
                        <%= link_to book_path(book) do %>
                            <div class="card text-center mb-4">
                                <%= image_tag book.image, class: "product-img" %>
                                <div class="card-body">
                                    <div class="star-rating mb-3">
                                        <div class="star-rating-front" style="width: <%= book.post_difficulty_percentage %>%">★★★★★</div>
                                        <div class="star-rating-back">★★★★★</div>
                                    </div>
                                    <p class="product-title"><%= book.title %></p>
                                    <small class="price">投稿数：<%= book.posts.count %></small>
                                </div>
                            </div>
                        <% end %>
                    </div>
                <% end %>
            </div>
        </section>
    </div>
</main>
